<!-- sidebar componnet -->
<div class="sidebar-container">
  <section>
    <div class="upper-container p-3">
      <div class="mb-3 d-flex justify-content-center align-items-center">
        <app-logo [width]="170"></app-logo>
      </div>
      <button mat-ripple class="btns fs-14px w-100" (click)="createNewChat()">
        <span class="material-symbols-outlined"> add </span>
        New chat
      </button>
    </div>

    <div class="p-3">
      @for (chat of chats | async; track $index) {
      <div class="chat-list rounded mb-2">
        <div class="d-flex rounded justify-content-between">
          <div
            mat-ripple
            class="chat-label fs-14px rounded-start p-2"
            (click)="onSelectChat(chat)"
          >
            {{ chat.title }}
          </div>
          <div class="timeago d-flex align-items-center">
            {{ timeAgo(chat.created_at!) }}
          </div>
          <button
            mat-ripple
            class="del-btn d-none rounded-end"
            (click)="deleteChat(chat.id!)"
          >
            <span class="material-symbols-outlined"> delete </span>
          </button>
        </div>
      </div>
      }
    </div>
  </section>

  <div class="sidebar-footer p-3">
    <button mat-ripple class="btns w-100 fs-14px">
      <svg
        viewBox="0 0 24 24"
        width="20px"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g id="SVGRepo_iconCarrier">
          <circle
            cx="12"
            cy="6"
            r="4"
            stroke="#7F00D3"
            stroke-width="1.5"
          ></circle>
          <path
            d="M19.9975 18C20 17.8358 20 17.669 20 17.5C20 15.0147 16.4183 13 12 13C7.58172 13 4 15.0147 4 17.5C4 19.9853 4 22 12 22C14.231 22 15.8398 21.8433 17 21.5634"
            stroke="#7F00D3"
            stroke-width="1.5"
            stroke-linecap="round"
          ></path>
        </g>
      </svg>
      <span>My Profile</span>
    </button>
  </div>
</div>

<ng-template #deleteDialog>
  <mat-dialog-content> Do you want to delete this chat? </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-button [mat-dialog-close]="false" cdkFocusInitial>
      Cancel
    </button>
    <button mat-raised-button [mat-dialog-close]="true">Yes</button>
  </mat-dialog-actions>
</ng-template>
